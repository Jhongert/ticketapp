extends layout

block content

    .wrapper.clearfix
      #welcomeSign
        h1
          center  Help Portal
        center    
          p#ticketIdHolder 
                   
      .list-group.main-section1.marginSep1.addBorder
       
        h2.text-center Create Help Ticket
                         
        br
                           
        
        center
          button.btn.btn-primary.btn-lg(data-toggle="modal", data-target="#myModalNorm") Create Ticket
      
       
      .list-group.main-section2.marginSep2.addBorder
        
        .card(style='width: 32rem;')
          .card-block
            h2.card-title.text-center Have you tried FAQs?
                      
        br
        
        .card(style='width: 32rem;')
          .card-block
                               
            center
              a.btn.btn-primary(href='/faqs') FAQs
    
    .wrapper
      .page-header
        h1 Tickets
      ul.nav.nav-tabs
        li.active
          a#list-all(data-toggle="tab") All &nbsp;
            #count-all.badge ?
        li
          a#list-pending(data-toggle="tab") Pending &nbsp;
            #count-pending.badge ?
        li
          a#list-processing(data-toggle="tab") In Processing &nbsp;
            #count-processing.badge ?
        li
          a#list-completed(data-toggle="tab") Completed &nbsp;
            #count-completed.badge ?
        li
          a#list-abandoned(data-toggle="tab") Abandoned &nbsp;
            #count-abandoned.badge ?

    
      .panel.panel-default
        .panel-heading
          .row
            .col-md-1 status
            .col-md-2 id
            .col-md-5 title
            .col-md-1 priority
            .col-md-1.text-right created
            .col-md-1.text-right updated
            .col-md-1 Attempts

        //.list-group
          //a#loading-prev.list-group-item.text-center
            //i.fa.fa-chevron-up=" More Newer Tickets"

        #list.list-group
          each ticket in tickets
            a.list-group-item(href="/tickets/#{ticket.id}")
              .row
                .col-md-1
                  !=helper.genLabelByStatus(ticket.status)
                .col-md-2
                  small
                    code=ticket.id
                .col-md-5=ticket.title
                .col-md-1=ticket.priority
                .col-md-1.text-right
                  !=helper.genDateTag(ticket.created_at)
                .col-md-1.text-right
                  !=helper.genDateTag(ticket.updated_at)
                .col-md-1=ticket.attempts
            
        .list-group
          a#loading-next.list-group-item.text-center
            i.fa.fa-chevron-down=" More Older Tickets"

    #myModalNorm.modal.fade(tabindex='-1', role='dialog', aria-labelledby='myModalLabel', aria-hidden='true')
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type='button', data-dismiss='modal')
              span(aria-hidden='true') &times;
              span.sr-only Close
            h4#myModalLabel.modal-title
                Create Ticket
          .modal-body
            form(role='form')
              .form-group
                input#myTitle.form-control(type='text', placeholder='Ticket Title')
                label(for='form3')
              .form-group
                input#myPriority.form-control(type='text', placeholder='Priority (type High, Medium, or Low)')
                label(for='form5')
              .form-group
                textarea#form6.md-textarea(type='text', style='height: 100px; width: 100%')
                label(for='form7')
          .modal-footer
            button.btn.btn-default(type='button', data-dismiss='modal') Close

            button#addTicket.btn.btn-primary(type='button', data-dismiss='modal') Submit Ticket

    script(src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js")
    script(src='ticketman/js/endless_scroll/jquery.scroll-on-mongoose.js', type='text/javascript')
    script(src='ticketman/js/jquery.prettydate.js', type='text/javascript')
    // active jQuery timeago
    script(type='text/javascript').
      if(jQuery){
        jQuery(document).ready(function() {
          if(jQuery(".timeago").length > 0) jQuery(".timeago").prettyDate();
        });
      }
  
    script(type='text/javascript', src='/js/tickets.js')
      

